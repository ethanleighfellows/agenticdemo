<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>SuperDad's T-Shirts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap (CDN) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    /> <!-- Bootstrap CDN is officially documented as supported via jsDelivr. --> 
    <!-- Animate.css (CDN) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    /> <!-- Animate.css CDN usage is documented with this cdnjs URL. -->
    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body { font-family:'Montserrat', sans-serif; background:#121212; color:#fff; }
      h1,h2,h3,h4,h5,h6,p,label,.form-label,.card-title,a,span { color:#fff!important; }
      .hero {
        background:url('https://thumbs.dreamstime.com/b/father-son-playing-superhero-sunset-time-people-having-fun-outdoors-concept-friendly-family-97721110.jpg')
          no-repeat center center/cover;
        height:60vh; display:flex; align-items:center; justify-content:center;
        margin-bottom:30px; position:relative;
      }
      .hero-overlay { position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); }
      .hero-content { position:relative; z-index:2; text-align:center; }
      .header-title { font-size:3rem; font-weight:600; }
      .instructions, .card { background:#1e1e1e; border:none; border-radius:10px; padding:15px; margin-bottom:20px; }
      .container { max-width:600px; margin-bottom:30px; }
      .form-control, .btn, .form-select { border-radius:10px; font-weight:500; }
      .btn-primary { background-image:linear-gradient(45deg,#FDB913,#FFB347); border:none; font-weight:600; border-radius:10px; }
      .btn-primary:hover { background-image:linear-gradient(45deg,#e0a810,#FFA500); }
      footer { text-align:center; margin-top:50px; font-size:0.9em; color:#aaa; }
      #shirt-preview { width:100%; height:400px; margin-top:16px; border-radius:10px; overflow:hidden; background:#000; }
      .muted-small { color:#bdbdbd !important; font-size: 0.92rem; }
    </style>
  </head>

  <body>
    <div class="hero">
      <div class="hero-overlay"></div>
      <div class="hero-content animate__animated animate__fadeInDown">
        <h1 class="header-title">SuperDad's T-Shirts</h1>
        <p class="lead animate__animated animate__fadeInUp">Design your perfect custom t-shirt</p>
      </div>
    </div>

    <div class="container">
      <div class="instructions animate__animated animate__fadeInUp">
        <p><strong>Step 1:</strong> Enter your order details. Agent A will create a custom design and Agent B will compute a dynamic price.</p>
        <p><strong>Step 2:</strong> After submission...</p>
        <ul>
          <li>Agent A: Validates size/color/design/text and prepares a preview.</li>
          <li>Agent B: Computes the final price.</li>
        </ul>
        <p class="muted-small mb-0">
          Note: This HTML-only version stores the next Order ID in localStorage and uses the same pricing rules as your Python chain.
        </p>
      </div>

      <!-- Alerts -->
      <div id="alert-area"></div>

      <!-- Order Form -->
      <div id="form-card" class="card animate__animated animate__fadeInUp">
        <h4 class="card-title mb-4">Enter Your Order Details</h4>

        <form id="order-form">
          <div class="mb-3">
            <label for="order_id" class="form-label">Order ID</label>
            <input type="number" class="form-control" name="order_id" id="order_id" readonly />
          </div>

          <div class="mb-3">
            <label for="customer_name" class="form-label">Customer Name</label>
            <input type="text" class="form-control" name="customer_name" id="customer_name" required />
          </div>

          <div class="mb-3">
            <label for="size" class="form-label">Size</label>
            <select class="form-select" name="size" id="size" required>
              <option value="">Choose...</option>
              <option value="S">S</option>
              <option value="M">M</option>
              <option value="L">L</option>
              <option value="XL">XL</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="color" class="form-label">Color</label>
            <select class="form-select" name="color" id="color" required>
              <option value="">Choose...</option>
              <option value="red">Red</option>
              <option value="blue">Blue</option>
              <option value="green">Green</option>
              <option value="black">Black</option>
              <option value="white">White</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="design" class="form-label">Design</label>
            <select class="form-select" name="design" id="design" required>
              <option value="">Choose...</option>
              <option value="Abstract">Abstract</option>
              <option value="Vintage">Vintage</option>
              <option value="Modern">Modern</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="text" class="form-label">Custom Text (optional)</label>
            <textarea class="form-control" name="text" id="text" rows="2"></textarea>
          </div>

          <button type="submit" class="btn btn-primary w-100">Submit Order</button>
        </form>
      </div>

      <!-- Progress + Results -->
      <div id="results-area" style="display:none;">
        <div class="card animate__animated animate__fadeInUp">
          <div class="card-body">
            <h5 class="card-title">Processing</h5>
            <div class="progress" role="progressbar" aria-label="Order progress" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
              <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" style="width:0%;">0%</div>
            </div>
            <p id="progress-text" class="mt-3 mb-0 muted-small">Starting...</p>
          </div>
        </div>

        <!-- Agent A Explanation -->
        <div class="card animate__animated animate__fadeInUp">
          <div class="card-body">
            <h5 class="card-title">What Our Agents Did</h5>
            <p class="mb-0">
              <strong>Agent A (Customization):</strong>
              Validated your selections (size, color, design style, and custom text) to ensure they meet our requirements.
            </p>
          </div>
        </div>

        <!-- 3D Preview -->
        <div id="shirt-preview" class="animate__animated animate__fadeInUp"></div>

        <!-- Agent B Explanation and Pricing -->
        <div class="card animate__animated animate__fadeInUp mt-3">
          <div class="card-body">
            <h5 class="card-title">Agent B (Pricing) & Final Price</h5>
            <p class="mb-2">
              Computed a dynamic price based on base price, size multiplier, design cost, and additional text cost.
            </p>
            <div class="alert alert-success" role="alert">
              Final price for Order <span id="final-order-id"></span>:
              <strong>$<span id="final-price"></span></strong>
            </div>
          </div>
        </div>

        <button id="new-order" class="btn btn-secondary w-100 animate__animated animate__fadeInU
